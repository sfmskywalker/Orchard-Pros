window.jQuery&&function(n){if(!n.support.opacity&&!n.support.style)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(t){}n.fn.rating=function(t){var i,t;return this.length==0?this:typeof arguments[0]=="string"?this.length>1?(i=arguments,this.each(function(){n.fn.rating.apply(n(this),i)})):(n.fn.rating[arguments[0]].apply(this,n.makeArray(arguments).slice(1)||[]),this):(t=n.extend({},n.fn.rating.options,t||{}),n.fn.rating.calls++,this.not(".star-rating-applied").addClass("star-rating-applied").each(function(){var i,f=n(this),s=(this.name||"unnamed-rating").replace(/\[|\]/g,"_").replace(/^\_+|\_+$/g,""),o=n(this.form||document.body),e=o.data("rating"),u,r;if(e&&e.call==n.fn.rating.calls||(e={count:0,call:n.fn.rating.calls}),u=e[s]||o.data("rating"+s),u&&(i=u.data("rating")),u&&i?i.count++:(i=n.extend({},t||{},f.data("rating"),{count:0,stars:[],inputs:[]}),i.serial=e.count++,u=n('<span class="star-rating-control"/>'),f.before(u),u.addClass("rating-to-be-drawn"),(f.attr("disabled")||f.hasClass("disabled"))&&(i.readOnly=!0),f.hasClass("required")&&(i.required=!0),u.append(i.cancel=n('<div class="rating-cancel"><a title="'+i.cancel+'">'+i.cancelValue+"<\/a><\/div>").on("mouseover",function(){n(this).rating("drain");n(this).addClass("star-rating-hover")}).on("mouseout",function(){n(this).rating("draw");n(this).removeClass("star-rating-hover")}).on("click",function(){n(this).rating("select")}).data("rating",i))),r=n('<div role="text" aria-label="'+this.title+'" class="star-rating rater-'+i.serial+'"><a title="'+(this.title||this.value)+'">'+this.value+"<\/a><\/div>"),u.append(r),this.id&&r.attr("id",this.id),this.className&&r.addClass(this.className),i.half&&(i.split=2),typeof i.split=="number"&&i.split>0){var c=(n.fn.width?r.width():0)||i.starWidth,l=i.count%i.split,h=Math.floor(c/i.split);r.width(h).find("a").css({"margin-left":"-"+l*h+"px"})}if(i.readOnly)r.addClass("star-rating-readonly");else r.addClass("star-rating-live").on("mouseover",function(){n(this).rating("fill");n(this).rating("focus")}).on("mouseout",function(){n(this).rating("draw");n(this).rating("blur")}).on("click",function(){n(this).rating("select")});this.checked&&(i.current=r);this.nodeName=="A"&&n(this).hasClass("selected")&&(i.current=r);f.hide();f.on("change.rating",function(t){if(t.selfTriggered)return!1;n(this).rating("select")});r.data("rating.input",f.data("rating.star",r));i.stars[i.stars.length]=r[0];i.inputs[i.inputs.length]=f[0];i.rater=e[s]=u;i.context=o;f.data("rating",i);u.data("rating",i);r.data("rating",i);o.data("rating",e);o.data("rating"+s,u)}),n(".rating-to-be-drawn").rating("draw").removeClass("rating-to-be-drawn"),this)};n.extend(n.fn.rating,{calls:0,focus:function(){var t=this.data("rating"),i;if(!t||!t.focus)return this;i=n(this).data("rating.input")||n(this.tagName=="INPUT"?this:null);t.focus&&t.focus.apply(i[0],[i.val(),n("a",i.data("rating.star"))[0]])},blur:function(){var t=this.data("rating"),i;if(!t||!t.blur)return this;i=n(this).data("rating.input")||n(this.tagName=="INPUT"?this:null);t.blur&&t.blur.apply(i[0],[i.val(),n("a",i.data("rating.star"))[0]])},fill:function(){var n=this.data("rating");if(!n)return this;n.readOnly||(this.rating("drain"),this.prevAll().addBack().filter(".rater-"+n.serial).addClass("star-rating-hover"))},drain:function(){var n=this.data("rating");if(!n)return this;n.readOnly||n.rater.children().filter(".rater-"+n.serial).removeClass("star-rating-on").removeClass("star-rating-hover")},draw:function(){var t=this.data("rating"),i,r;if(!t)return this;this.rating("drain");i=n(t.current);r=i.length?i.prevAll().addBack().filter(".rater-"+t.serial):null;r&&r.addClass("star-rating-on");t.cancel[t.readOnly||t.required?"hide":"show"]();this.siblings()[t.readOnly?"addClass":"removeClass"]("star-rating-readonly")},select:function(t,i){var r=this.data("rating");if(!r)return this;if(!r.readOnly){if(r.current=null,typeof t!="undefined"||this.length>1){if(typeof t=="number")return n(r.stars[t]).rating("select",undefined,i);if(typeof t=="string")return n.each(r.stars,function(){n(this).data("rating.input").val()==t&&n(this).rating("select",undefined,i)}),this}else r.current=this[0].tagName=="INPUT"?this.data("rating.star"):this.is(".rater-"+r.serial)?this:null;this.data("rating",r);this.rating("draw");var u=n(r.current?r.current.data("rating.input"):null),f=n(r.inputs).filter(":checked"),e=n(r.inputs).not(u);return e.prop("checked",!1),u.prop("checked",!0),n(u.length?u:f).trigger({type:"change",selfTriggered:!0}),(i||i==undefined)&&r.callback&&r.callback.apply(u[0],[u.val(),n("a",r.current)[0]]),this}},readOnly:function(t,i){var r=this.data("rating");if(!r)return this;r.readOnly=t||t==undefined?!0:!1;i?n(r.inputs).attr("disabled","disabled"):n(r.inputs).removeAttr("disabled");this.data("rating",r);this.rating("draw")},disable:function(){this.rating("readOnly",!0,!0)},enable:function(){this.rating("readOnly",!1,!1)}});n.fn.rating.options={cancel:"Cancel Rating",cancelValue:"",split:0,starWidth:16};n(function(){n("input[type=radio].star").rating()})}(jQuery);
/*
//# sourceMappingURL=jquery.rating.min.js.map
*/