<?xml version="1.0"?>
<Orchard>
  <Recipe>
    <Name>Orchard Pros</Name>
    <Description>The Orchard Pros recipe.</Description>
    <Author>IDeliverable</Author>
    <WebSite>http://ideliverable.net</WebSite>
    <Tags></Tags>
    <Version>1.0</Version>
  </Recipe>

  <Feature enable="Orchard.Alias,Orchard.Autoroute,
                   Markdown,Orchard.MediaLibrary,Orchard.ContentPicker,
                   Orchard.jQuery,Orchard.Widgets,Orchard.ContentTypes,
                   Orchard.Scripting,Orchard.Scripting.Lightweight,PackagingServices,Orchard.Packaging,
                   Orchard.Fields,Orchard.OutputCache,Orchard.Workflows,
                   UrlAlternates, Orchard.ImportExport,
                   NGM.OpenAuthentication.Workflows,
                   OrchardPros.Membership, OrchardPros.Tickets, OrchardPros.Community, OrchardPros.Commerce, OrchardPros.Careers,
                   OrchardPros" />

  <Metadata>
    <Types>
      <CategoryTerm Taxonomy="Category" DisplayName="Category Term">
        <TermPart />
        <TitlePart />
        <AutoroutePart AutorouteSettings.AllowCustomPattern="true" AutorouteSettings.AutomaticAdjustmentOnEdit="false" AutorouteSettings.PatternDefinitions="[{Name:'Taxonomy and Title', Pattern: '{Content.Container.Path}/{Content.Slug}', Description: 'my-taxonomy/my-term/sub-term'}]" AutorouteSettings.DefaultPatternIndex="0" />
        <CommonPart />
      </CategoryTerm>
      <Page ContentTypeSettings.Draftable="True" TypeIndexing.Indexes="Search">
        <TagsPart />
        <LocalizationPart />
        <TitlePart/>
        <AutoroutePart />
        <MenuPart />
      </Page>
      <ShapeWidget ContentTypeSettings.Creatable="False" ContentTypeSettings.Draftable="False" Stereotype="Widget" DisplayName="Shape Widget">
        <CommonPart DateEditorSettings.ShowDateEditor="False" OwnerEditorSettings.ShowOwnerEditor="False" />
        <IdentityPart />
        <WidgetPart />
        <ShapeWidget />
      </ShapeWidget>
    </Types>
    <Parts>
      <BodyPart BodyPartSettings.FlavorDefault="markdown" />
      <ShapeWidget ContentPartSettings.Attachable="True">
        <ShapeName.TextField DisplayName="Shape Name" TextFieldSettings.Flavor="Wide" TextFieldSettings.Hint="Specify the name of the Shape to render." TextFieldSettings.Required="True" />
      </ShapeWidget>
    </Parts>
  </Metadata>

  <Data>
    <Taxonomy Id="/alias=category" Status="Published">
      <CommonPart Owner="/User.UserName=admin" CreatedUtc="2013-12-15T13:31:48.9469273Z" PublishedUtc="2013-12-15T13:31:48.9689273Z" ModifiedUtc="2013-12-15T13:31:48.9469273Z" />
      <AutoroutePart Alias="category" UseCustomPattern="false" />
      <TitlePart Title="Category" />
      <TaxonomyPart TermTypeName="CategoryTerm" />
    </Taxonomy>
    <CategoryTerm Id="/alias=category\/category-1" Status="Published">
      <CommonPart Owner="/User.UserName=admin" Container="/alias=category" CreatedUtc="2013-12-15T13:32:01.7961683Z" PublishedUtc="2013-12-15T13:32:01.9391763Z" ModifiedUtc="2013-12-15T13:32:01.8071786Z" />
      <AutoroutePart Alias="category/category-1" UseCustomPattern="false" />
      <TitlePart Title="Category 1" />
      <TermPart Count="0" Selectable="true" Weight="0" TaxonomyId="/alias=category" Path="" />
    </CategoryTerm>
    <CategoryTerm Id="/alias=category\/category-2" Status="Published">
      <CommonPart Owner="/User.UserName=admin" Container="/alias=category" CreatedUtc="2013-12-15T13:32:07.8900143Z" PublishedUtc="2013-12-15T13:32:07.9360023Z" ModifiedUtc="2013-12-15T13:32:07.8910121Z" />
      <AutoroutePart Alias="category/category-2" UseCustomPattern="false" />
      <TitlePart Title="Category 2" />
      <TermPart Count="0" Selectable="true" Weight="0" TaxonomyId="/alias=category" Path="" />
    </CategoryTerm>
    <CategoryTerm Id="/alias=category\/category-3" Status="Published">
      <CommonPart Owner="/User.UserName=admin" Container="/alias=category" CreatedUtc="2013-12-15T13:32:16.0438425Z" PublishedUtc="2013-12-15T13:32:16.0928095Z" ModifiedUtc="2013-12-15T13:32:16.0458417Z" />
      <AutoroutePart Alias="category/category-3" UseCustomPattern="false" />
      <TitlePart Title="Category 3" />
      <TermPart Count="0" Selectable="true" Weight="0" TaxonomyId="/alias=category" Path="" />
    </CategoryTerm>
    <ShapeWidget Id="/Identifier=807b333934e24bdfb1e20b47891b37d0" Status="Published">
      <TextField.ShapeName Text="Jumbotron__HomePage" />
      <IdentityPart Identifier="807b333934e24bdfb1e20b47891b37d0" />
      <CommonPart Owner="/User.UserName=admin" Container="/Layer.LayerName=TheHomepage" CreatedUtc="2013-12-20T14:41:22.1036314Z" PublishedUtc="2013-12-20T14:41:22.1636354Z" ModifiedUtc="2013-12-20T14:41:22.2136385Z" />
      <WidgetPart Title="Jumbotron" Position="1" Zone="Jumbotron" RenderTitle="false" Name="" />
    </ShapeWidget>
  </Data>

  <Settings>
    <SiteSettingsPart PageTitleSeparator=" - " SiteName="Orchard Pros" SiteSalt="1f8757683b674a5eb38a0b2dec50727b" SuperUser="admin" SiteCulture="en-US" PageSize="0" SiteTimeZone="W. Europe Standard Time" BaseUrl="http://localhost:30322" />
    <RegistrationSettingsPart UsersCanRegister="true" UsersMustValidateEmail="false" ValidateEmailRegisteredWebsite="" ValidateEmailContactEMail="" UsersAreModerated="false" NotifyModeration="false" NotificationsRecipients="" EnableLostPassword="true" />
    <OpenAuthenticationSettingsPart AutoRegistrationEnabled="true" />
    <CacheSettingsPart DefaultCacheDuration="0" DefaultMaxAge="0" ApplyCulture="false" DebugMode="false" />
    <ThemeSiteSettingsPart CurrentThemeName="OrchardPros" />
    <WebSearchSettingsPart />
  </Settings>

  <Migration features="*" />
  <Workflows>
    <Workflow Name="User Signed Up" Enabled="true">
      <Activities>
        <Activity Id="1" Name="UserSignedUp" Start="true" X="594" Y="338">
          <State>{}</State>
        </Activity>
        <Activity Id="2" Name="Redirect" Start="false" X="637" Y="487">
          <State>{"Url":"~/OrchardPros.Membership/Account/Created"}</State>
        </Activity>
      </Activities>
      <Transitions>
        <Transition SourceActivityId="1" SourceEndpoint="Created" DestinationActivityId="2" DestinationEndpoint="" />
      </Transitions>
    </Workflow>
    <Workflow Name="User Signed In" Enabled="true">
      <Activities>
        <Activity Id="3" Name="UserSignedIn" Start="true" X="707" Y="252">
          <State>{}</State>
        </Activity>
        <Activity Id="4" Name="Redirect" Start="false" X="589" Y="488">
          <State>{"Url":"~/OrchardPros.Membership/Account/Dashboard"}</State>
        </Activity>
      </Activities>
      <Transitions>
        <Transition SourceActivityId="3" SourceEndpoint="Signed In" DestinationActivityId="4" DestinationEndpoint="" />
      </Transitions>
    </Workflow>
    <Workflow Name="User Signed Out" Enabled="true">
      <Activities>
        <Activity Id="5" Name="UserSignedOut" Start="true" X="793" Y="267">
          <State>{}</State>
        </Activity>
        <Activity Id="6" Name="Redirect" Start="false" X="811" Y="470">
          <State>{"Url":"~/"}</State>
        </Activity>
      </Activities>
      <Transitions>
        <Transition SourceActivityId="5" SourceEndpoint="Signed Out" DestinationActivityId="6" DestinationEndpoint="" />
      </Transitions>
    </Workflow>
    <Workflow Name="Open Authentication" Enabled="true">
      <Activities>
        <Activity Id="74" Name="OAuthVerify" Start="true" X="733" Y="299">
          <State>{}</State>
        </Activity>
        <Activity Id="75" Name="Notify" Start="false" X="651" Y="493">
          <State>{"Notification":"Error","Message":"Your authentication request failed."}</State>
        </Activity>
        <Activity Id="76" Name="OAuthSignIn" Start="false" X="885" Y="479">
          <State>{}</State>
        </Activity>
        <Activity Id="77" Name="Notify" Start="false" X="936" Y="676">
          <State>{"Notification":"Information","Message":"You have been logged using your {0} account."}</State>
        </Activity>
        <Activity Id="78" Name="OAuthCreateOrAssociateUser" Start="false" X="1234" Y="308">
          <State>{}</State>
        </Activity>
        <Activity Id="79" Name="Notify" Start="false" X="1151" Y="513">
          <State>{"Notification":"Information","Message":"Your {0} account has been attached to your local account."}</State>
        </Activity>
        <Activity Id="80" Name="Redirect" Start="false" X="1181" Y="667">
          <State>{"Url":"~/"}</State>
        </Activity>
        <Activity Id="81" Name="Notify" Start="false" X="1427" Y="540">
          <State>{"Notification":"Information","Message":"You have been logged in using your {0} account. We have created a local account for you with the name '{1}'"}</State>
        </Activity>
      </Activities>
      <Transitions>
        <Transition SourceActivityId="74" SourceEndpoint="Failed" DestinationActivityId="75" DestinationEndpoint="" />
        <Transition SourceActivityId="74" SourceEndpoint="AssociationFound" DestinationActivityId="76" DestinationEndpoint="" />
        <Transition SourceActivityId="76" SourceEndpoint="Failed" DestinationActivityId="75" DestinationEndpoint="" />
        <Transition SourceActivityId="76" SourceEndpoint="Success" DestinationActivityId="77" DestinationEndpoint="" />
        <Transition SourceActivityId="74" SourceEndpoint="AssociationNotFound" DestinationActivityId="78" DestinationEndpoint="" />
        <Transition SourceActivityId="79" SourceEndpoint="Done" DestinationActivityId="80" DestinationEndpoint="" />
        <Transition SourceActivityId="78" SourceEndpoint="CurrentUserAssociated" DestinationActivityId="79" DestinationEndpoint="" />
        <Transition SourceActivityId="81" SourceEndpoint="Done" DestinationActivityId="80" DestinationEndpoint="" />
        <Transition SourceActivityId="78" SourceEndpoint="NewUserAssociated" DestinationActivityId="81" DestinationEndpoint="" />
      </Transitions>
    </Workflow>
  </Workflows>

  <Command>
    layer create Default /LayerRule:"true" /Description:"The widgets in this layer are displayed on all pages"
    layer create Authenticated /LayerRule:"authenticated" /Description:"The widgets in this layer are displayed when the user is authenticated"
    layer create Anonymous /LayerRule:"not authenticated" /Description:"The widgets in this layer are displayed when the user is anonymous"
    layer create Disabled /LayerRule:"false" /Description:"The widgets in this layer are never displayed"
    layer create TheHomepage /LayerRule:"url '~/'" /Description:"The widgets in this layer are displayed on the home page"
    site setting set baseurl
    menu create /MenuName:"Main Menu"
    page create /Slug:"welcome-to-orchard-pros" /Title:"Welcome to Orchard Pros!" /Path:"welcome-to-orchard-pros" /Homepage:true /Publish:true /UseWelcomeText:true
    theme activate "Orchard Pros"
  </Command>
</Orchard>
