(function(n){var t=function(n,t){this.fileName=n;this.size=t;this.progress=ko.observable(0);this.label=ko.observable();this.status=ko.observable("uploading");this.uploadedFileName=ko.observable();this.uploadedFileContentType=ko.observable()},i=function(i){var r=this;this.transfers=ko.observableArray([]);this.upload=function(n){var i=new t(n.name,n.size);return this.transfers.push(i),i};this.remove=function(){r.transfers.remove(this)};i&&n.each(i,function(){var n=this.FileName,u=this.FileSize,i=new t(n,u);i.label(n);r.transfers.push(i)})};n(function(){var t=n("#file-upload"),u=t.data("attachments"),r=new i(u);ko.applyBindings(r,n("#file-upload")[0]);n("#browse-files").on("click",function(){t.find("input").trigger("click")});t.find("input").on("click",function(n){n.stopPropagation()});t.fileupload({url:t.data("upload-url"),autoUpload:!0,formData:{__RequestVerificationToken:t.data("anti-forgery-token")},progressall:function(){},add:function(n,t){var u,i,f;if(t.files.length){for(u=t.files.length,i=0;i<u;i++)f=t.files[i],t.context=r.upload(f);t.submit()}},progress:function(n,t){if(t.context){var i=Math.floor(t.loaded/t.total*100);t.context.progress(i);t.context.label(t.context.fileName+" - "+i+"%")}},pasteZone:t[0],paste:function(){return!0},done:function(n,t){var i=t.result;t.context.status("success");t.context.uploadedFileName(i.uploadedFileName);t.context.uploadedFileContentType(i.uploadedFileContentType);t.context.label(t.context.fileName)},fail:function(n,t){t.context.status("error")}})})})(jQuery);
/*
//# sourceMappingURL=attachments-uploader.min.js.map
*/